id: bmad-for-humans
name: BMAD For Humans
description: Agents and workflows for guided software development - Reachy (AI coding companion), PM (product manager), plus PRD, project, planning, and implementation workflows.
version: 1.0.0
author: hacking-robot

# Module classification
type: agent-collection
bmad_version: ">=6.0.0-alpha"

# Installation configuration
install:
  agents:
    - src/agents/reachy.agent.yaml
    - src/agents/pm.agent.yaml
  resources:
    - src/agents/reachy/instructions.md
  workflows:
    - src/workflows/prd
    - src/workflows/project
    - src/workflows/3-solutioning/plan-epics
    - src/workflows/4-implementation/create-ticket
    - src/workflows/4-implementation/dev-ticket
    - src/workflows/4-implementation/ticket-review

# Questions asked during installation
questions:
  - id: setup_context_files
    question: "Create context file templates (project.md, task.md, tasks/) in your project root?"
    type: boolean
    default: true
    help: "Elliot requires these files for context. We'll create empty templates if they don't exist."

# Post-install actions
post_install:
  - type: create_file
    condition: "{{setup_context_files}}"
    path: "{{project_root}}/project.md"
    content: |
      # Project Context

      Describe your project architecture, tech stack, and key decisions here.
      This file helps Elliot provide context-aware guidance.

      ## Tech Stack
      -

      ## Architecture Decisions
      -

      ## Key Patterns
      -

  - type: create_file
    condition: "{{setup_context_files}}"
    path: "{{project_root}}/task.md"
    content: |
      # Current Task

      ## Description

      ## Acceptance Criteria
      - [ ]

      ## In Scope
      -

      ## Out of Scope
      -

  - type: create_directory
    condition: "{{setup_context_files}}"
    path: "{{project_root}}/tasks"

# What this module provides
provides:
  agents:
    - id: reachy
      name: Reachy
      title: Your AI Coding Companion
      icon: "ðŸ¤–"
      description: Friendly AI coding companion who helps with code exploration, debugging, and learning
      commands:
        - trigger: "/check"
          description: Check code against AC, specs, architecture
        - trigger: "/design"
          description: Design solution structure before coding
        - trigger: "/guide"
          description: Find relevant files, patterns, existing code
        - trigger: "/scan"
          description: Scan for regressions and fragile spots
        - trigger: "/explain"
          description: Explain WHY something works this way
        - trigger: "/create-ticket"
          description: Create a ticket from git diff and context
        - trigger: "/dev-ticket"
          description: Develop a ticket using red-green-refactor
        - trigger: "/ticket-review"
          description: Review completed ticket work

    - id: pm
      name: PM
      title: Product Manager
      icon: "ðŸ“‹"
      description: Product manager for PRD and planning workflows
      commands:
        - trigger: "/prd"
          description: Create, edit, or validate PRDs
        - trigger: "/plan-epics"
          description: Break down requirements into feature groups

  workflows:
    - id: prd
      name: PRD Workflow
      description: Create, edit, and validate Product Requirements Documents
      modes: [create, edit, validate]

    - id: project
      name: Project Workflow
      description: Architecture and project context workflows
      modes: [create, edit, validate]

    - id: plan-epics
      name: Plan Epics
      description: Break down requirements into feature groups and work units
      modes: [create]

    - id: create-ticket
      name: Create Ticket
      description: Create ticket files from git diff and codebase analysis
      modes: [create]

    - id: dev-ticket
      name: Dev Ticket
      description: Execute a ticket with red-green-refactor methodology
      modes: [create]

    - id: ticket-review
      name: Ticket Review
      description: Adversarial code review that finds issues and validates claims
      modes: [create]
